<p>work-list works!</p>

<mat-tab-group *ngIf="works">
    <mat-tab [label]="work.year" *ngFor="let work of works"> 
        
        <mat-tab-group>
            <mat-tab [label]="month.month" *ngFor="let month of work.months">

                <table mat-table [dataSource]="month.datas" class="mat-elevation-z8">

                    
                    <!-- Date Column -->
                    <ng-container matColumnDef="Date">
                      <th mat-header-cell *matHeaderCellDef> Date </th>
                      <td mat-cell *matCellDef="let element"> {{element.journey.date.slice(8, 10)}} </td>
                    </ng-container>
                  
                    <!-- Target Column -->
                    <ng-container matColumnDef="Target">
                      <th mat-header-cell *matHeaderCellDef> Target </th>
                      <td mat-cell *matCellDef="let element"> {{element.target.name}} </td>
                    </ng-container>

                    <!-- Income Column -->
                    <ng-container matColumnDef="Income">
                        <th mat-header-cell *matHeaderCellDef> Income Time </th>
                        <td mat-cell *matCellDef="let element"> {{element.enterTime}} </td>
                    </ng-container>
                  
                    <!-- Outcome Column -->
                    <ng-container matColumnDef="Outcome">
                        <th mat-header-cell *matHeaderCellDef> Outcome Time </th>
                        <td mat-cell *matCellDef="let element"> {{element.outTime}} </td>
                    </ng-container>
                    
                    <!-- Payment per Hour Column -->
                    <ng-container matColumnDef="Payment per Hour">
                        <th mat-header-cell *matHeaderCellDef> Payment per Hour </th>
                        <td mat-cell *matCellDef="let element"> {{element.target.payment | currency}} </td>
                    </ng-container>

                    <!-- Total Hours Column -->
                    <ng-container matColumnDef="Total Hours">
                        <th mat-header-cell *matHeaderCellDef> Total Hours </th>
                        <td mat-cell *matCellDef="let element"> {{calculateWorkingTime(element.enterTime, element.outTime)}} </td>
                    </ng-container>

                    <!-- Payment this Journey Column -->
                    <ng-container matColumnDef="Payment this Journey">
                        <th mat-header-cell *matHeaderCellDef> Total Payment this journey</th>
                        <td mat-cell *matCellDef="let element"> {{calculatePayPerDay(calculateWorkingTime(element.enterTime, element.outTime), element.target.payment) | currency}} </td>
                    </ng-container>


                  
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                  
                <p class="totals-month">
                    <b>Total Earning</b>= <span>{{calculateMonthlyEarning(month) | currency}}</span>
                    <b>Total Hours</b>: <span>{{calculateMonthlyHours(month)}}</span>
                </p>   

            </mat-tab>
        </mat-tab-group>

    </mat-tab>
</mat-tab-group>

<!--<div *ngIf="works">
    <ul *ngFor="let work of works">
        <li>Year: {{work.year}}</li>

        <ul *ngFor="let month of work.months">
            <li>Month: {{month.month}}</li>

            <ul *ngFor="let data of month.datas">
                <li>Work Date: {{data.journey.date.slice(8, 10)}} -- {{data.target.name}} / {{data.enterTime}}Hs - {{data.outTime}}Hs / payment x Hs: {{data.target.payment}}</li>
                <p><b>Total Hours: {{calculateWorkingTime(data.enterTime, data.outTime)}}</b> -- <i>$ {{calculatePayPerDay(calculateWorkingTime(data.enterTime, data.outTime), data.target.payment)}}</i></p>
            </ul>
            
            <p>Total Earning = $ {{calculateMonthlyEarning(month)}}  --  Total Hours: {{calculateMonthlyHours(month)}}</p>
        </ul>
    </ul>

</div>-->
